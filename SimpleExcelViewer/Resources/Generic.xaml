<ResourceDictionary
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:base="RW.Base.WPF"
	xmlns:c="clr-namespace:SimpleExcelViewer.Controls"
	xmlns:conv="clr-namespace:SimpleExcelViewer.Converters"
	xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
	xmlns:vm="clr-namespace:SimpleExcelViewer.ViewModels"
	xmlns:vms="clr-namespace:SimpleExcelViewer.ViewModelServices"
	xmlns:wpf="RW.Common.WPF">

	<ResourceDictionary.MergedDictionaries>

		<ResourceDictionary Source="pack://application:,,,/RW.Common.WPF;component/Resources/Generic.xaml"/>

	</ResourceDictionary.MergedDictionaries>

	<conv:FileSizeConverter x:Key="FileSizeConverter"/>


	<!--<FontFamily x:Key="IconPack">Resources/Segoe Fluent Icons.ttf#Segoe Fluent Icons</FontFamily>-->
	<FontFamily x:Key="IconPack">pack://application:,,,/Resources/Segoe Fluent Icons.ttf#Segoe Fluent Icons</FontFamily>

	<Style x:Key="FontIcon" TargetType="{x:Type wpf:FontIcon}" BasedOn="{StaticResource DefaultText}">
		<Setter Property="FontFamily" Value="{StaticResource IconPack}"/>
		<Setter Property="FontSize" Value="14"/>
	</Style>

	<Style TargetType="{x:Type wpf:FontIcon}" BasedOn="{StaticResource FontIcon}"/>

	<Style x:Key="DialogStyle" TargetType="UserControl">
		<Setter Property="Padding" Value="0"/>
		<Setter Property="dxmvvm:Interaction.BehaviorsTemplate">
			<Setter.Value>
				<DataTemplate DataType="{x:Type vm:IDialogViewModel}">
					<ItemsControl>
						<dxmvvm:EventToCommand Command="{Binding LoadedCommand}" EventName="Loaded" PassEventArgsToCommand="True"/>
						<base:DispatcherServiceEx/>
						<vms:MessageBoxServiceEx/>
						<base:TypedUIObjectService Name="DialogUserControlService"/>
					</ItemsControl>
				</DataTemplate>
			</Setter.Value>
		</Setter>
	</Style>


	<Style TargetType="c:DialogWindowWrapper">
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="c:DialogWindowWrapper">
					<Border
						Padding="{TemplateBinding Padding}"
						BorderThickness="{TemplateBinding BorderThickness}"
						BorderBrush="{TemplateBinding BorderBrush}"
						Background="{TemplateBinding Background}">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition Height="*"/>
								<RowDefinition Height="auto"/>
							</Grid.RowDefinitions>

							<Border Grid.Row="0">
								<ContentPresenter Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}"/>
							</Border>

							<Border Grid.Row="1">
								<ItemsControl Margin="4" HorizontalAlignment="Right" ItemsSource="{TemplateBinding DialogCommands}">

									<ItemsControl.ItemsPanel>
										<ItemsPanelTemplate>
											<StackPanel Orientation="Horizontal"/>
										</ItemsPanelTemplate>
									</ItemsControl.ItemsPanel>

									<ItemsControl.ItemTemplate>
										<DataTemplate DataType="{x:Type vm:DialogCommand}">
											<Button
												Height="20"
												MinWidth="70"
												Margin="4"
												Command="{Binding RelativeSource={RelativeSource AncestorType=c:DialogWindowWrapper}, Path=DialogButtonCommand}"
												CommandParameter="{Binding}"
												Content="{Binding Content}"
												IsEnabled="{Binding IsEnabled}"/>
										</DataTemplate>
									</ItemsControl.ItemTemplate>

								</ItemsControl>
							</Border>
						</Grid>
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

</ResourceDictionary>